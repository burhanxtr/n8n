graph TB
    subgraph "Client Layer"
        BROWSER[Web Browser]
        API_CLIENT[API Clients]
        WEBHOOK_SRC[Webhook Sources]
    end
    
    subgraph "Application Layer"
        subgraph "Main Process"
            UI_SERVER[UI Server<br/>Vue.js App]
            API_SERVER[REST API]
            WS_SERVER[WebSocket Server]
            AUTH[Auth Module]
        end
        
        subgraph "Worker Process"
            WORKER[Execution Worker]
            TASK_RUNNER[Task Runner]
        end
        
        subgraph "Webhook Process"
            WH_HANDLER[Webhook Handler]
            WH_VALIDATOR[Webhook Validator]
        end
    end
    
    subgraph "Service Layer"
        WORKFLOW_SVC[Workflow Service]
        EXEC_SVC[Execution Service]
        CRED_SVC[Credentials Service]
        PROJECT_SVC[Project Service]
        USER_SVC[User Service]
    end
    
    subgraph "Infrastructure Layer"
        subgraph "Message Queue"
            REDIS[(Redis)]
            BULL[Bull Queue]
        end
        
        subgraph "Data Storage"
            DB[(Database<br/>PostgreSQL/MySQL/SQLite)]
            FS[File System<br/>Binary Data]
            S3[S3/MinIO<br/>Cloud Storage]
        end
        
        subgraph "Caching"
            MEM_CACHE[Memory Cache]
            REDIS_CACHE[Redis Cache]
        end
    end
    
    %% Client connections
    BROWSER --> UI_SERVER
    BROWSER --> API_SERVER
    API_CLIENT --> API_SERVER
    WEBHOOK_SRC --> WH_HANDLER
    
    %% WebSocket for real-time updates
    BROWSER -.->|SSE/WS| WS_SERVER
    
    %% Main process connections
    API_SERVER --> AUTH
    API_SERVER --> WORKFLOW_SVC
    API_SERVER --> EXEC_SVC
    UI_SERVER --> API_SERVER
    
    %% Service layer connections
    WORKFLOW_SVC --> DB
    EXEC_SVC --> DB
    CRED_SVC --> DB
    PROJECT_SVC --> DB
    USER_SVC --> DB
    
    %% Queue mode connections
    EXEC_SVC --> BULL
    BULL --> REDIS
    REDIS --> WORKER
    WH_HANDLER --> BULL
    
    %% Worker connections
    WORKER --> DB
    WORKER --> FS
    WORKER --> S3
    WORKER --> TASK_RUNNER
    
    %% Caching connections
    WORKFLOW_SVC --> MEM_CACHE
    EXEC_SVC --> REDIS_CACHE
    REDIS_CACHE --> REDIS